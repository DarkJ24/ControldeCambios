@model ControldeCambios.Models.ProyectoInfoModel
@{
    ViewBag.Title = "Información de Proyecto";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using PagedList.Mvc;
@using PagedList;

<h2>Gestión de Proyectos</h2>
<h4>@ViewBag.Title</h4>
<hr />

<div class="row">
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
        @Html.Label("Nombre", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.nombre)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Descripción", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.descripcion)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Líder", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.nombre)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Cliente", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.cliente)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Fecha de Inicio", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.fechaInicio)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Fecha Final", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.fechaFinal)
        </div>
    </div>
    <div class="col-xs-12 col-sm-6">
        <div class="col-xs-4">
            @Html.Label("Duración", new { @class = "control-label" })
        </div>
        <div class="col-xs-8">
            @Html.DisplayFor(m => m.proyecto.duracion) Días
        </div>
    </div>
</div>
<hr />

<div class="row">
    <h4>Lista de Sprints</h4>
    <hr />
    @if (Model.crearSprints)
    {
        <p>
            @Html.ActionLink("Crear Sprint", "Crear", "Sprint", new { proyecto = Model.proyecto.nombre}, new { @class = "btn btn-primary" })
        </p>
    }

    <table class="table">
        <tr>
            <th>
                Número
            </th>
            <th>
                Fecha Inicio
            </th>
            <th>
                Fecha Final
            </th>
            @if (Model.detallesSprints)
            {
                <th>
                    Consultar
                </th>
            }
        </tr>
        @foreach (var sprint in Model.indexSprintInfoList)
        {
            <tr id="@(sprint.numero)">
                <td>
                    @Html.DisplayFor(modelItem =>
sprint.numero)
                </td>
                <td>
                    @Html.DisplayFor(modelItem =>
sprint.fechaInicio)
                </td>
                <td>
                    @Html.DisplayFor(modelItem =>
sprint.fechaFinal)
                </td>
                @if (Model.detallesSprints)
                {
                    <td>

                        @Html.ActionLink("Consultar", "Detalles", "Sprint", new
               {
                   id =
     sprint.numero, proyecto= Model.proyecto.nombre
               })
                    </td>
                }
            </tr>
        }
    </table>
    @Html.PagedListPager((IPagedList)ViewBag.OnePageOfSprints, page => Url.Action("Index", new { page }))
    @Html.Raw("Página:")
    @if (ViewBag.OnePageOfSprints.PageCount < ViewBag.OnePageOfSprints.PageNumber)
    {
        @Html.Raw("0")
    }
    else
    {
        @ViewBag.OnePageOfSprints.PageNumber
    }
    @Html.Raw(" de ")
    @ViewBag.OnePageOfSprints.PageCount
</div>